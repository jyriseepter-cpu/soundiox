<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soundiox</title>
  <style>
    body{
      margin:0;
      font-family:Arial, sans-serif;
      background:#0f172a;
      color:white;
      text-align:center;
    }
    .hero{
      padding-top:120px;
      padding-left:20px;
      padding-right:20px;
    }
    h1{
      font-size:48px;
      margin-bottom:10px;
      line-height:1.1;
    }
    p{
      color:#cbd5e1;
      font-size:18px;
      margin:0;
    }
    @media (max-width:700px){
      h1{font-size:34px;}
    }
  </style>
</head>
  </style>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="hero">
    <h1>Create Music at the Speed of Thought</h1>
    <p>Soundiox turns ideas into finished tracks using AI.</p>
    <p style="color:#9aa4b2; font-size:16px; margin-top:8px;">
Describe the track. AI generates a finished song in minutes.
</p>

    <div style="margin-top:30px; font-size:16px; color:#ffffff;">
  <div>1. Describe the track</div>
  <div>2. AI generates the music</div>
  <div>3. Download or export</div>
</div>

    <form id="earlyAccessForm"
          action="https://formspree.io/f/xykdjyag"
          method="POST"
          target="hidden_iframe"
          style="margin-top:30px;">

      <input
        type="email"
        name="email"
        placeholder="Enter your email"
        required
        style="
          padding:14px;
          width:260px;
          border-radius:8px;
          border:none;
          margin-right:10px;
        "
      />

      <button
        id="joinBtn"
        type="submit"
        style="
          padding:14px 22px;
          border-radius:8px;
          border:none;
          background:#6366f1;
          color:white;
          font-weight:bold;
          cursor:pointer;
        "
      >Join Early Access</button>

      <div style="font-size:13px; color:#9aa4b2; margin-top:10px;">
        No spam. Be among the first – early users get lifetime perks.
      </div>

      <!-- NB: ainult ÜKS counter element -->
      <div id="counter" style="font-size:13px; color:#9aa4b2; margin-top:6px;">
Join 37 creators already testing Soundiox
</div>

      <div id="thanks" style="display:none; margin-top:12px; color:#cbd5e1;">
        Aitäh! Oled nimekirjas.
      </div>
    </form>
    
    <iframe id="hidden_iframe" name="hidden_iframe" style="display:none;"></iframe>
  </div>

  <script>
    window.submitted = false;

    document.addEventListener('DOMContentLoaded', () => {
      // Counter
      const baseCount = 37;
      const growthPerDay = 3;
      const startDate = new Date('2026-02-01T00:00:00Z');
      const today = new Date();
      const days = Math.max(0, Math.floor((today - startDate) / (1000 * 60 * 60 * 24)));
      const current = baseCount + (days * growthPerDay);

      const counterEl = document.getElementById('counter');
      if (counterEl) counterEl.textContent = `Already ${current}+ creators joined`;

      // Form UX
      const form = document.getElementById('earlyAccessForm');
      const btn = document.getElementById('joinBtn');
      const thanks = document.getElementById('thanks');
      const iframe = document.getElementById('hidden_iframe');

      if (!form) return;

      form.addEventListener('submit', () => {
        window.submitted = true;

        if (thanks) thanks.style.display = 'none';

        if (btn) {
          btn.disabled = true;
          btn.textContent = 'Joining...';
          btn.style.opacity = '0.85';
          btn.style.cursor = 'default';
        }
      });

      if (!iframe) return;

      iframe.addEventListener('load', () => {
        if (!window.submitted) return;
        window.submitted = false;

        if (thanks) thanks.style.display = 'block';
        if (btn) btn.textContent = 'Joined ✓';
        form.reset();

        setTimeout(() => {
          if (thanks) thanks.style.display = 'none';

          if (btn) {
            btn.disabled = false;
            btn.textContent = 'Get Early Access';
            btn.style.opacity = '1';
            btn.style.cursor = 'pointer';
          }
        }, 2500);
      });
    });
  </script>
<script>
// 152
const SUPABASE_URL = "https://ljswysgmdigncyhymngz.supabase.co";
// 153
const SUPABASE_KEY = "sb_publishable_ZUHoKlLzYVMDAYvNOzBRfA_Dhk_VOp8";

const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('earlyAccessForm');
  const input = form.querySelector('input[type="email"]');
  const thanks = document.getElementById('thanks');
  const btn = document.getElementById('joinBtn');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const email = input.value;

    btn.disabled = true;
    btn.textContent = "Joining...";

    const { error } = await supabaseClient
      .from('waitlist')
      .insert([{ email: email }]);

    if (!error) {
      thanks.style.display = 'block';
      btn.textContent = 'Joined ✓';
      form.reset();
    }

    setTimeout(() => {
      btn.disabled = false;
      btn.textContent = 'Get Early Access';
      thanks.style.display = 'none';
    }, 2500);
  });
});
</script>
</body>
</html>
